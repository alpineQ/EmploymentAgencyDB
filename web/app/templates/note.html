{% extends "base.html" %}

{% block content %}

<h1>
    <a style="color: black;" href="/{{ name }}/"><i class="fa fa-long-arrow-left"></i></a> {{ tables[name]['name'] }}
</h1>
<form>
    {% for column_name, field_name, record, type in zip(column_names, tables[name]['fields'], table_data, types) %}
    <div class="input-group mb-1">
        <span class="input-group-text">{{ field_name }}</span>
        {% if type[0] == 'datetime' %}
        {% set date = record.__str__() %}
        <input type="date" class="form-control" name="{{column_name[0]}}" value="{{ date[:date.find(' ')] }}">
        {% else %}
        <input type="text" class="form-control" name="{{column_name[0]}}" value="{{ record }}"
               placeholder="{{ record }}">
        {% endif %}
    </div>
    {% endfor %}

    <div class="mt-2">
        <button formaction="/{{name}}/update/" formmethod="post" class="btn btn-primary">
            <i class="fas fa-save"></i> <b>Сохранить</b>
        </button>
        <button formaction="/{{name}}/delete/" formmethod="post" class="btn btn-danger">
            <i class="fas fa-trash"></i> <b>Удалить</b>
        </button>
    </div>
</form>

{% endblock %}
